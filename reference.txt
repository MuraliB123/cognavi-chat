public static class BrowserManager
{
    public static IPlaywright Playwright { get; private set; }
    public static IBrowser Browser1 { get; private set; }
    public static IBrowser Browser2 { get; private set; }

    public static async Task InitializeAsync()
    {
        Playwright = await Microsoft.Playwright.Playwright.CreateAsync();

        string edgePath = @"C:\Program Files (x86)\Microsoft\Edge\Application\msedge.exe";

        Browser1 = await Playwright.Chromium.LaunchAsync(new BrowserTypeLaunchOptions
        {
            Headless = true,
            ExecutablePath = edgePath
        });

        Browser2 = await Playwright.Chromium.LaunchAsync(new BrowserTypeLaunchOptions
        {
            Headless = true,
            ExecutablePath = edgePath
        });
    }

    public static async Task CleanupAsync()
    {
        await Browser1.CloseAsync();
        await Browser2.CloseAsync();
        Playwright.Dispose();
    }
}[OneTimeSetUp]
public async Task GlobalSetup()
{
    await BrowserManager.InitializeAsync();
}

[OneTimeTearDown]
public async Task GlobalTeardown()
{
    await BrowserManager.CleanupAsync();
}
[SetUp]
public async Task Setup()
{
    _context = await BrowserManager.Browser2.NewContextAsync();
    _page = await _context.NewPageAsync();
}

